[gd_scene load_steps=13 format=3 uid="uid://5k1o5ctvtah6"]

[ext_resource type="Script" path="res://Scenes/Enemy/enemy.gd" id="1_phvpf"]
[ext_resource type="PackedScene" uid="uid://cssrnoqqr5d0y" path="res://models/enemymodel.blend" id="2_7mos3"]
[ext_resource type="PackedScene" uid="uid://cf1dcxwv6bvl3" path="res://models/Pistol.glb" id="2_u1s3k"]
[ext_resource type="Texture2D" uid="uid://vwob30tkwej4" path="res://addons/kenney_particle_pack/star_06.png" id="3_on872"]
[ext_resource type="AudioStream" uid="uid://cyp0dip0hu5qd" path="res://audio/gunshot.ogg" id="4_vk23e"]

[sub_resource type="CapsuleShape3D" id="CapsuleShape3D_q7x2r"]

[sub_resource type="GDScript" id="GDScript_t1skp"]
script/source = "extends Node3D

#@onready var nav_agent = $NavigationAgent3D

# Called when the node enters the scene tree for the first time.
func _ready() -> void:
	pass # Replace with function body.


# Called every frame. 'delta' is the elapsed time since the previous frame.
func _process(delta: float) -> void:
	pass
"

[sub_resource type="Gradient" id="Gradient_or8bq"]
offsets = PackedFloat32Array(0, 0.141221, 1)
colors = PackedColorArray(0, 0, 0, 0, 1, 1, 1, 1, 1, 1, 1, 0)

[sub_resource type="GradientTexture1D" id="GradientTexture1D_is51c"]
gradient = SubResource("Gradient_or8bq")

[sub_resource type="ParticleProcessMaterial" id="ParticleProcessMaterial_rw2b2"]
angle_min = 45.0
angle_max = 45.0
gravity = Vector3(0, 0, 0)
color_ramp = SubResource("GradientTexture1D_is51c")

[sub_resource type="StandardMaterial3D" id="StandardMaterial3D_4smqo"]
transparency = 1
shading_mode = 0
vertex_color_use_as_albedo = true
albedo_color = Color(1, 0.960784, 0.670588, 1)
albedo_texture = ExtResource("3_on872")
billboard_mode = 3
particles_anim_h_frames = 1
particles_anim_v_frames = 1
particles_anim_loop = false

[sub_resource type="PlaneMesh" id="PlaneMesh_8vdlg"]
material = SubResource("StandardMaterial3D_4smqo")
size = Vector2(0.5, 0.5)
orientation = 2

[node name="Enemy" type="CharacterBody3D" groups=["enemy"]]
script = ExtResource("1_phvpf")

[node name="enemymodel" parent="." instance=ExtResource("2_7mos3")]
transform = Transform3D(-1.3, 0, -1.1365e-07, 0, 1.3, 0, 1.1365e-07, 0, -1.3, 0, -0.80152, 0)

[node name="Skeleton3D" parent="enemymodel/Armature" index="0"]
bones/0/position = Vector3(-0.0278099, 0.116519, -83.6563)
bones/0/rotation = Quaternion(-0.640361, -0.0931823, 0.076451, 0.758558)
bones/1/rotation = Quaternion(0.0155255, -0.0309619, 0.0176205, 0.999245)
bones/2/rotation = Quaternion(0.0289867, -0.00852676, -0.00241258, 0.999541)
bones/3/rotation = Quaternion(0.0289154, -0.00866032, -0.00250805, 0.999541)
bones/4/rotation = Quaternion(0.0992965, 0.0308074, 0.0141472, 0.99448)
bones/5/rotation = Quaternion(-0.0230595, 0.142823, 0.10534, 0.983856)
bones/7/rotation = Quaternion(-0.565589, -0.4444, 0.457477, -0.522813)
bones/8/position = Vector3(1.26857e-05, 14.6704, 5.46274e-05)
bones/8/rotation = Quaternion(0.225146, -0.427503, 0.535566, 0.692618)
bones/9/position = Vector3(-6.20233e-06, 20.6401, -0.000130769)
bones/9/rotation = Quaternion(0.0311308, -0.00071755, 0.25778, 0.965702)
bones/10/position = Vector3(-3.43521e-05, 27.012, -0.000148369)
bones/10/rotation = Quaternion(0.0799309, -0.868884, -0.17192, 0.457269)
bones/11/rotation = Quaternion(0.187454, 0.0975721, 0.138863, 0.967501)
bones/12/position = Vector3(-0.558523, 3.89123, 2.09128e-05)
bones/12/rotation = Quaternion(0.0154307, 0.165578, 0.0170042, 0.985929)
bones/13/position = Vector3(0.0380553, 3.18888, -1.39339e-05)
bones/13/rotation = Quaternion(-0.0284105, 0.0047789, 0.18965, 0.981429)
bones/14/position = Vector3(0.52046, 2.37027, 1.19209e-07)
bones/15/position = Vector3(-3.59068, 10.8949, -0.0932926)
bones/15/rotation = Quaternion(0.301606, 0.00322403, 0.0184267, 0.953249)
bones/16/position = Vector3(0.00214028, 3.15756, 5.94223e-06)
bones/16/rotation = Quaternion(0.499475, -0.000340096, -0.0534584, 0.864677)
bones/17/position = Vector3(0.00214779, 3.027, 1.14243e-05)
bones/17/rotation = Quaternion(0.209236, 8.64598e-05, -0.0235468, 0.977582)
bones/18/position = Vector3(-0.00428033, 2.6092, 1.53482e-06)
bones/19/position = Vector3(-1.21138, 11.1762, -0.312761)
bones/19/rotation = Quaternion(0.428639, 0.00187917, 0.0017603, 0.903472)
bones/20/position = Vector3(0.00388479, 3.24589, -6.36141e-06)
bones/20/rotation = Quaternion(0.535274, -0.000229124, -0.0607183, 0.842494)
bones/21/position = Vector3(-0.000776768, 3.18309, -2.95693e-05)
bones/21/rotation = Quaternion(0.154852, 7.94911e-05, -0.0178321, 0.987777)
bones/22/position = Vector3(-0.00310814, 2.69896, 1.65254e-05)
bones/23/position = Vector3(1.25747, 11.1393, -0.249341)
bones/23/rotation = Quaternion(0.495524, -0.00481041, -0.000736286, 0.868581)
bones/24/position = Vector3(0.000608206, 2.75161, -9.36227e-07)
bones/24/rotation = Quaternion(0.585252, 0.000100804, -0.0698373, 0.807838)
bones/25/position = Vector3(-0.00159645, 2.73301, 3.66128e-05)
bones/25/rotation = Quaternion(0.222244, 2.17566e-05, -0.0259027, 0.974647)
bones/26/position = Vector3(0.000993013, 2.32575, 4.21703e-06)
bones/27/position = Vector3(3.54457, 11.1286, -0.132072)
bones/27/rotation = Quaternion(0.582827, -0.043214, 0.0408033, 0.81042)
bones/28/position = Vector3(0.00204372, 2.26641, -3.22574e-06)
bones/28/rotation = Quaternion(0.527922, 0.000117861, -0.0639007, 0.846886)
bones/29/position = Vector3(-0.0026207, 1.87956, -9.98611e-06)
bones/29/rotation = Quaternion(0.122039, 0.000109508, -0.0136397, 0.992432)
bones/30/position = Vector3(0.000575542, 1.35246, -1.32024e-05)
bones/31/rotation = Quaternion(0.584846, -0.414258, 0.549566, 0.429328)
bones/32/position = Vector3(-4.43717e-05, 14.6698, 0.000145279)
bones/32/rotation = Quaternion(0.432884, 0.0934094, -0.480011, 0.757282)
bones/33/position = Vector3(5.26112e-05, 20.7493, 1.43109e-05)
bones/33/rotation = Quaternion(0.0838897, 0.000771527, -0.797961, 0.596842)
bones/34/position = Vector3(-2.71974e-05, 27.0705, -0.000110799)
bones/34/rotation = Quaternion(-0.160737, 0.109265, 0.388997, 0.900503)
bones/35/position = Vector3(2.7754, 3.38322, 1.34157)
bones/35/rotation = Quaternion(0.304084, -0.11264, -0.167087, 0.931089)
bones/36/position = Vector3(0.522787, 3.62404, -4.3834e-05)
bones/36/rotation = Quaternion(-0.0789398, -0.176448, 0.161896, 0.96769)
bones/37/position = Vector3(0.00645638, 3.39218, -7.00165e-06)
bones/37/rotation = Quaternion(-0.183182, -0.0344051, 0.369812, 0.91022)
bones/38/position = Vector3(-0.529304, 2.81234, 5.32269e-05)
bones/39/position = Vector3(3.61524, 11.2449, -0.0864659)
bones/39/rotation = Quaternion(0.0922389, 0.00118146, -0.0657161, 0.993565)
bones/40/position = Vector3(0.00109375, 3.12821, 2.42367e-05)
bones/40/rotation = Quaternion(0.282953, 4.95302e-06, 0.0226938, 0.958865)
bones/41/position = Vector3(-0.00106853, 2.8629, -1.90658e-05)
bones/41/rotation = Quaternion(0.256701, 4.84924e-05, 0.0210946, 0.966261)
bones/42/position = Vector3(-1.44988e-05, 2.48961, 4.54485e-06)
bones/43/position = Vector3(1.13636, 11.1711, -0.380389)
bones/43/rotation = Quaternion(0.417235, -0.0162212, 0.024503, 0.908324)
bones/44/position = Vector3(-0.00498186, 3.3134, -1.04509e-05)
bones/44/rotation = Quaternion(0.818808, 0.000202873, 0.0733707, 0.569359)
bones/45/position = Vector3(0.00322717, 3.20895, -2.60149e-05)
bones/45/rotation = Quaternion(0.163135, -0.000137758, 0.0142867, 0.9865)
bones/46/position = Vector3(0.00172329, 2.74141, -3.28422e-05)
bones/47/position = Vector3(-1.30029, 11.305, -0.347619)
bones/47/rotation = Quaternion(0.464061, 0.0191709, -0.0349743, 0.884905)
bones/48/position = Vector3(0.00377214, 2.73694, -3.54798e-06)
bones/48/rotation = Quaternion(0.760506, -0.00153332, 0.0741571, 0.645081)
bones/49/position = Vector3(0.00748472, 2.73448, -1.59226e-05)
bones/49/rotation = Quaternion(0.424376, 0.000603822, 0.0378174, 0.904696)
bones/50/position = Vector3(-0.0112565, 2.32244, 4.12762e-06)
bones/51/position = Vector3(-3.45116, 11.0546, -0.0651595)
bones/51/rotation = Quaternion(0.522007, 0.0252821, -0.0360876, 0.851802)
bones/52/position = Vector3(-0.0097369, 2.29563, -6.74099e-06)
bones/52/rotation = Quaternion(0.657219, 0.000979058, 0.0647355, 0.750914)
bones/53/position = Vector3(0.00191295, 1.87968, -2.8919e-05)
bones/53/rotation = Quaternion(0.496732, -0.00157077, 0.0493106, 0.866501)
bones/54/position = Vector3(0.00780684, 1.44152, -8.85129e-06)
bones/55/rotation = Quaternion(0.0828462, 0.42345, 0.901561, -0.0318543)
bones/56/rotation = Quaternion(-0.795112, -0.0359963, 0.00675764, 0.605356)
bones/57/rotation = Quaternion(0.575237, -0.0677061, 0.119928, 0.80631)
bones/58/rotation = Quaternion(0.35317, -0.0557695, 0.0193979, 0.933694)
bones/60/rotation = Quaternion(0.0468295, 0.264112, 0.959536, -0.085687)
bones/61/position = Vector3(5.37382e-05, 40.3423, -2.64821e-06)
bones/61/rotation = Quaternion(-0.566313, 0.0108096, -0.0495984, 0.822626)
bones/62/rotation = Quaternion(0.723723, 0.187303, -0.0511576, 0.662212)
bones/63/rotation = Quaternion(0.405356, 0.0604466, -0.0193917, 0.911952)

[node name="CollisionShape3D" type="CollisionShape3D" parent="."]
transform = Transform3D(1.3, 0, 0, 0, 1.3, 0, 0, 0, 1.3, 0, 0.270049, 0)
shape = SubResource("CapsuleShape3D_q7x2r")

[node name="Timer" type="Timer" parent="."]
wait_time = 2.0
autostart = true

[node name="NavigationAgent3D" type="NavigationAgent3D" parent="."]

[node name="health_pickup_spawn" type="Node3D" parent="."]

[node name="Pistol" parent="." instance=ExtResource("2_u1s3k")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0.5, -0.25, -0.5)
script = SubResource("GDScript_t1skp")

[node name="MuzzleFlash" type="GPUParticles3D" parent="Pistol"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0.0588368, -0.313209)
emitting = false
amount = 1
lifetime = 0.25
one_shot = true
local_coords = true
process_material = SubResource("ParticleProcessMaterial_rw2b2")
draw_pass_1 = SubResource("PlaneMesh_8vdlg")

[node name="bullet_spawn" type="Node3D" parent="Pistol"]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, 0, 0, -0.273147)

[node name="enemy" type="AudioStreamPlayer2D" parent="."]
stream = ExtResource("4_vk23e")
pitch_scale = 1.01

[connection signal="timeout" from="Timer" to="." method="_on_timer_timeout"]

[editable path="enemymodel"]
